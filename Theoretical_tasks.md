# Теоретические задания

## Задание 1
> Хочу написать чат-бота, который бы использовал ChatGPT API. Предложите компоненты этого чат-бота, исходя из доступных облачных сервисов и формата работы в чат-боте (сообщение-вопрос, API-call, генерация сообщения-ответа).

**1. Платформа облачных сервисов:** для хостинга и развертывания чат-бота. AWS Lambda — это сервис серверного внешнего кода, который позволяет запускать код практически для неограниченного типа приложений или сервиса без необходимости управления серверами. Он отлично подходит для хостинга ботов в Telegram, так как обеспечивает высокую масштабируемость и гибкость.
   
**2. ChatGPT API:** для генерации текстовых ответов на вопросы пользователя.
   
**3.Natural Language Processing (NLP) сервис:** для анализа и понимания входящего сообщения пользователя. Было найдено 2 потенциально подходящих сервиса от Amazon: 

   *a.Amazon Comprehend* – это сервис обработки естественного языка, в котором для поиска ценной информации и взаимосвязей в тексте применяются технологии машинного обучения. 
 
   *b.Amazon Lex* - это полностью управляемый сервис искусственного интеллекта (ИИ) с расширенными моделями естественного языка для проектирования, встраивания, тестирования и развертывания речевых интерфейсов в приложениях.
   
**4. Хранилище данных:** для сохранения и управления предыдущими чатами и интерактивными сессиями с пользователями можно использовать Amazon RDS, который упрощает настройку, эксплуатацию и масштабирование развертывания PostgreSQL в облаке. Amazon RDS позволяет всего за несколько минут осуществлять масштабируемое и недорогое развертывание PostgreSQL с возможностью настройки объема аппаратных ресурсов. Также он берет на себя сложные и трудоемкие задачи по администрированию, такие как установка и обновление ПО PostgreSQL, управление хранилищем, репликация с целью обеспечения высокой доступности и скорости чтения, а также резервное копирование для аварийного восстановления. Преимуществами RDS для PostgreSQL являются:
   
   + *Простые управляемые развертывания*. Чтобы в считаные минуты запустить готовую к работе базу данных PostgreSQL и подключиться к ней, достаточно нескольких шагов в Консоли управления AWS.
   + *Быстрое и надежное хранилище*. Amazon RDS предоставляет варианты хранилища на SSD‑дисках как для небольших или средних рабочих нагрузок, так и для высокопроизводительных OLTP‑приложений. При необходимости можно выделять дополнительный объем хранилища прямо в процессе работы, без простоев.
   + *Резервное копирование и восстановление*. Возможность автоматического резервного копирования в Amazon RDS позволяет восстановить инстанс базы данных PostgreSQL  в течение 35 дней. Можно создавать резервные копии инстанса БД по собственной инициативе, которые хранятся в Amazon RDS бессрочно, если вы не удалите их намеренно.
   + *Высокая доступность и реплики чтения*. Развертывание Amazon RDS в нескольких зонах доступности повышает доступность и надежность инстансов БД PostgreSQL, что позволяет эффективно справляться с нагрузками на рабочие базы данных. Реплики чтения Amazon RDS упрощают эластичное масштабирование с возможностью превышения ограничений ресурсов одного инстанса базы данных для рабочих нагрузок с большим количеством операций чтения.
   + *Изоляция и безопасность*.
   
**5. Интерфейс пользователя:** дизайн и разработка интерфейса или мобильного приложения для взаимодействия с чат-ботом. Для этого можно сделать интеграцию с платформами мессенджеров, например Telegram, с помощью Telegram Bot API. Он позволяет разработчикам создавать и настраивать ботов, интерактивно взаимодействовать с ними и получать доступ к различным функциям Telegram. API предоставляет удобные методы для отправки и получения сообщений, управления чатами, управления подписками и многое другое.

## Задание 2
> Сравните методы экономии средств в облаке при использовании долгосрочных соглашений по их удобству, размеру экономии, в зависимости от провайдера. Это могут быть резервации, Savings Plans, и тд, но у разных провайдеров зовутся по-разному.

*"Инстансы"* - это виртуальные вычислительные ресурсы, такие как процессоры, память и хранилище, которые клиенты могут арендовать у облачных провайдеров и использовать для размещения своих приложений и данных в облаке.

*"Резервация"* - это предварительное бронирование и обязательство использования определенных вычислительных ресурсов на определенный период времени, что позволяет получить скидки на использование ресурсов в облачной инфраструктуре в обмен на долгосрочные обязательства.

Различные облачные провайдеры предлагают разные программы и методы для экономии средств при использовании долгосрочных соглашений. Мы рассмотрим 2 наиболее популярных провайдера - Amazon Web Services (AWS) и Microsoft Azure, и сравним, что они могут нам предложить.

**Amazon Web Services (AWS):**

1. Amazon Reserved Instances (RI):
   
Это один из самых популярных методов экономии в AWS. На зарезервированные инстансы (RI) Amazon EC2 предоставляется значительная скидка (до 72 %) по сравнению с ценами на инстансы по требованию. При использовании конвертируемых зарезервированных инстансов можно изменять их семейства, типы ОС и аренды и при этом сохранять преимущества скидки на RI. Кроме того, благодаря резервированию вместимости с помощью RI можно обеспечить дополнительную гарантию, что необходимое количество инстансов будет доступно для запуска в нужный момент.

Существуют разные типы инстансов Amazon EC2 RI, поэтому можно выбрать тип, который оптимально отвечает потребностям приложения:
  
+ Стандартные RI: при использовании этого типа инстансов предоставляется наибольшая скидка (до 72 % по сравнению с инстансами по требованию); вариант оптимален для стабильных рабочих нагрузок.
+ Конвертируемые RI: на этот тип инстансов предоставляется значительная скидка (до 54 % по сравнению с инстансами по требованию), при этом атрибуты зарезервированного инстанса можно изменять, если это приводит к созданию RI равной или большей стоимости.
+ RI по расписанию: доступны для запуска во временных интервалах, указанных при резервировании. Такой вариант позволяет резервировать вместимость с учетом предсказуемого цикла, когда потребность в них существует лишь часть дня, недели или месяца.
  
Еще одним важным преимуществом является то, что в рамках уровня бесплатного пользования AWS работу с сервисом EC2 можно начать бесплатно. Это включает 750 часов работы с инстансами t2.micro на базе Linux и Windows ежемесячно в течение одного года.
  
2. Savings Plans:
   
Это гибкая модель ценообразования, предусматривающая снижение оплаты за использование Amazon EC2, AWS Lambda и AWS Fargate при условии, что клиент обязуется потреблять постоянный объем ресурсов (измеряемый в USD/час) в течение 1 года или 3 лет. После оформления тарифа Savings Plans соответствующая льготная плата начисляется за использование в рамках взятого обязательства. AWS предлагает Savings Plans двух видов:
   
+ Compute Savings Plans – это самый гибкий вариант, помогающий экономить до 66 %. Такие планы автоматически применяются к использованию инстансов EC2 вне зависимости от их семейства, размера, зоны доступности, региона AWS, ОС или типа аренды, а также к использованию Fargate и Lambda. Например, используя планы Compute Savings Plans, можно в любой момент перейти с инстансов C4 на M5, перенести рабочую нагрузку из региона ЕС (Ирландия) в регион ЕС (Лондон), а также с сервиса EC2 на Fargate или Lambda, автоматически продолжая платить по тарифу Savings Plans.
+ EC2 Instance Savings Plans – это вариант с самыми низкими ценами, обеспечивающий экономию до 72 % при условии обязательного использования отдельных семейств инстансов в определенном регионе (например, M5 в Северной Вирджинии). Это автоматически снижает расходы на выбранное семейство инстансов в данном регионе независимо от зоны доступности, размера, ОС или аренды. Благодаря EC2 Instance Savings Plans можно менять использование инстансов одного семейства в рамках региона. Например, вы можете перейти с инстанса c5.xlarge с Windows на c5.2xlarge с Linux, автоматически пользуясь преимуществами цен Savings Plan.

**Microsoft Azure:**

1. Резервирование Azure

Вариант, позволяющий сократить расходы до 72% на отдельные службы Azure от цен оплаты по мере использования за счет приобретения планов сроком на один или три года. Оплата резервирования может производиться как заранее, так и ежемесячно, при этом общие затраты с предварительными или ежемесячными платежами одинаковы.

+ Экономия за счет использования зарезервированных экземпляров (Azure Reserved Virtual Machine Instances)

Клиент выбирает семейство экземпляров, размер и регион, и экономия применяется только в случае выполнения всех этих требований. Хотя зарезервированные экземпляры виртуальных машин Azure требуют предварительного принятия обязательств по вычислительной мощности, у клиента будут варианты, если потребности его бизнеса изменятся. Например, существует возможность отмены зарезервированного экземпляра в любое время и возврата Microsoft неиспользованного остатока — до годового лимита — за плату за досрочное прекращение. Кроме того, после покупки зарезервированного экземпляра клиент может изменить того, кто управляет резервированием или его областью действия. Также он может разделить резервирование на две части и применить некоторые из приобретенных экземпляров к другой подписке.
+ Экономия за счет зарезервированной ёмкости

Позволяет экономить на использовании Базы данных SQL Azure (до 33%), Azure Cosmos DB (до 65%) и Azure Synapse Analytics (до 65%), эффективнее управлять затратами — как при ожидаемых, так и при непредвиденных рабочих нагрузках, — а также оптимизировать планирование бюджета и прогнозирование. При необходимости можно изменить параметры резервирования: регион Azure, тип развертывания, уровень производительности или срок или отменить резервирование с возвратом неизрасходованных средств.
 
2. Экономичный план Azure для вычислений

Это гибкая модель ценообразования, позволяющая сэкономить до 65% на расходах с оплатой по мере использования, если клиент обязуется тратить фиксированную почасовую сумму на службы вычислений в течение года или трех лет. При этом экономичные планы нельзя изменить или отменить после принятия обязательства по расходам. Для случая, когда потребности в использовании превышают ограничения текущего экономичного плана, предусмотрена возможность приобретения еще одного экономичного плана для покрытия дополнительного использования. Если у клиента есть несколько экономичных планов, то сначала применяется к почасовому использованию службы план с наибольшим процентом экономии. Если несколько планов предоставляют одинаковый процент экономии, сначала применяется план с самой узкой областью действия.

Также стоит отметить, что с экономичным планом Azure на службы вычислений клиент вносит только почасовую оплату, а для планирования экономии будет рассмотрена вся его вычислительная среда независимо от размера экземпляра, семейства и региона.

Как резервирование, так и экономичный план для вычислений могут быть использованы одновременно с **Преимуществом гибридного использования Azure (Azure Hybrid Benefit)** - предложением по лицензированию, которое помогает выполнить миграцию и сохранить данные в Azure. Данный вариант позволит увеличить экономию до 85% по сравнению с оплатой по мере использования.

**Выводы:**

Оба провайдера предлагают удобные средства для экономии средств, но выбор может зависеть от предпочтений и требований конкретной организации. Например, если у вас уже есть существующие лицензии Microsoft, Azure Hybrid Benefit может быть более привлекательным.

Размер экономии зависит от многих факторов, включая типы и объемы использованных ресурсов, длительность обязательства и конкретные скидки, предоставляемые каждым методом. Вообщем, все методы обещают значительные скидки по сравнению с оплатой почасово.

В целом, выбор метода экономии зависит от конкретных требований, стратегии использования облака и предпочтений вашей компании.
